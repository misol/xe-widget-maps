/* Copyright (C) Kim, MinSoo <misol.kr@gmail.com> */
function addMarker(a,n){positions=makeLocationArray(n);for(var t=new nhn.api.map.Size(28,37),e=new nhn.api.map.Size(14,37),i=new nhn.api.map.Icon("http://static.naver.com/maps2/icons/pin_spot2.png",t,e),o=0;o<positions.length;o++){var p=new nhn.api.map.Marker(i,{point:positions[o]});a.addOverlay(p)}}function makeLocationArray(a){for(var n=new Array,t=a.split(";"),e=0;e<t.length;e++)if(t[e].trim()){var i=t[e].split(",");n[e]=new nhn.api.map.LatLng(i[0],i[1])}return n}function getMapWidget(a,n,t,e,i,o){var p=n.split(","),r=parseInt(e,10)-5;r||(r=10),i="false"==i?!1:!0;var s={zoom:r,point:new nhn.api.map.LatLng(p[0],p[1]),enableWheelZoom:!0,enableDragPan:i,enableDblClickZoom:!0,mapMode:0,activateTrafficMap:!1,activateBicycleMap:!1},h=new nhn.api.map.Map(a,s);oMap[o]=h;var m=new nhn.api.map.ZoomControl;h.addControl(m),m.setPosition({top:10,left:10});var l=new nhn.api.map.MapTypeBtn;h.addControl(l),l.setPosition({top:10,right:10}),addMarker(h,t)}jQuery(window).on("resize",function(){jQuery("div.maps_widget").each(function(){var a=jQuery(this).attr("style"),n=jQuery(this).width(),t=jQuery(this).height(),e=jQuery(this).attr("data-maps-count");oMap[e].setSize(new nhn.api.map.Size(n,t)),jQuery(this).attr("style",a)})});