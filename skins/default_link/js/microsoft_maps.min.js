/* Copyright (C) Kim, MinSoo <misol.kr@gmail.com> */
function addMarker(t,e){positions=makeLocationArray(e);for(var a=0;a<positions.length;a++){var i=new Microsoft.Maps.Pushpin(positions[a],{draggable:!1});t.entities.push(i)}}function makeLocationArray(t){for(var e=new Array,a=t.split(";"),i=0;i<a.length;i++)if(a[i].trim()){var r=a[i].split(",");e[i]=new Microsoft.Maps.Location(r[0],r[1])}return e}function getMapWidget(t,e,a,i,r,o){var s=e.split(","),i=parseInt(i,10);i||(i=13),r="false"==r?!0:!1;var n=document.getElementById(t),p=jQuery(n).width(),h=jQuery(n).height(),c={credentials:map_api_key,width:p,height:h,zoom:i,disablePanning:r,center:new Microsoft.Maps.Location(s[0],s[1]),mapTypeId:Microsoft.Maps.MapTypeId.road,showMapTypeSelector:!1,showScalebar:!1,showDashboard:!1,enableSearchLogo:!1},d=new Microsoft.Maps.Map(n,c);oMap[o]=d,addMarker(d,a)}jQuery(window).on("resize",function(){jQuery("div.maps_widget").each(function(){var t=jQuery(this).attr("style"),e=jQuery(this).width(),a=jQuery(this).height(),i=jQuery(this).attr("data-maps-count");oMap[i].setOptions({width:e,height:a}),jQuery(this).attr("style",t)})});